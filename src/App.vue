<template>
  <div class="container">
    <form class="card" @submit.prevent="submitHandler">
      <h1>–ê–Ω–∫–µ—Ç–∞ –Ω–∞ Vue —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞!</h1>
      <div class="form-control" :class="{ invalid: errors.name }">
        <label for="name">–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?</label>
        <input
          type="text"
          id="name"
          placeholder="–í–≤–µ–¥–∏ –∏–º—è"
          v-model.trim="name"
        />
        <small v-if="errors.name"> {{ errors.name }}</small>
      </div>

      <div class="form-control">
        <label for="age">–í—ã–±–µ—Ä–∏ –≤–æ–∑—Ä–∞—Å—Ç</label>
        <input type="number" id="age" max="70" v-model.number="age" />
      </div>

      <div class="form-control">
        <label for="city">–¢–≤–æ–π –≥–æ—Ä–æ–¥</label>
        <select id="city" v-model="city">
          <option value="spb">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
          <option value="msk">–ú–æ—Å–∫–≤–∞</option>
          <option value="kzn">–ö–∞–∑–∞–Ω—å</option>
          <option selected value="nsk">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
        </select>
      </div>

      <div class="form-checkbox">
        <span class="label">–ì–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ–µ–∑–¥—É –≤ –¢–æ–∫–∏–æ?</span>
        <div class="checkbox">
          <label
            ><input type="radio" v-model="relocate" value="yes" name="trip" />
            –î–∞</label
          >
        </div>

        <div class="checkbox">
          <label><input type="radio" name="trip" value="not" /> –ù–µ—Ç</label>
        </div>
      </div>

      <div class="form-checkbox">
        <span class="label">–ß—Ç–æ –∑–Ω–∞–µ—à—å –≤–æ Vue?</span>
        <div class="checkbox">
          <label
            ><input
              type="checkbox"
              v-model="skills"
              name="skills"
              value="vuex"
            />
            Vuex</label
          >
        </div>
        <div class="checkbox">
          <label
            ><input
              type="checkbox"
              v-model="skills"
              name="skills"
              value="router"
            />
            Vue CLI</label
          >
        </div>
        <div class="checkbox">
          <label
            ><input
              type="checkbox"
              v-model="skills"
              name="skills"
              value="cli"
            />
            Vue Router</label
          >
        </div>
      </div>
      <div class="form-checkbox">
        <div class="checkbox">
          <label
            ><input type="checkbox" v-model="agree" /> –° –ø—Ä–∞–≤–∏–ª–∞–º–∏
            —Å–æ–≥–ª–∞—Å–µ–Ω</label
          >
        </div>
      </div>

      <button type="submit" class="btn primary">
        –û—Ç–ø—Ä–∞–≤–∏—Ç—å
      </button>
    </form>
  </div>
</template>

<script>
export default {
  data() {
    return {
      name: "",
      age: 27,
      city: "spb",
      relocate: "yes",
      skills: [],
      agree: false,
      errors: {
        name: null,
      },
    };
  },
  methods: {
    formIsValid() {
      let isValid = true;
      if (this.name.length === 0) {
        this.errors.name = "–≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è";
        isValid = false;
      } else {
        this.errors.name = null;
      }
      return isValid;
    },
    submitHandler() {
      if (this.formIsValid()) {
        console.group("Form Data");
        console.log("üöÄ ~ name: ", this.name);
        console.log("üöÄ ~ age: ", this.age);
        console.log("üöÄ ~ city: ", this.city);
        console.log("üöÄ ~ relocate: ", this.relocate);
        console.log("üöÄ ~ skills: ", this.skills);
        console.log("üöÄ ~ agree: ", this.agree);
        console.groupEnd();
      }
    },
  },
};
</script>

<style>
.form-control small {
  color: red;
}
.form-control.invalid input {
  border-color: red;
}
</style>
